{% extends "base.html" %}
{% block content %}

<style>
  .region-card {
    border: 1px solid #f0f0f0;
    border-radius: 15px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    transition: 0.3s ease;
    width: 400px
  }

  .region-card:hover {
    transform: translateY(-5px);
  }

  .region-icon {
    font-size: 2rem;
    color: #4850b9;
    margin-right: 10px;
  }

  .region-title {
    font-weight: 600;
    font-size: 1.2rem;
    color: #333;
  }

  .clinic-count {
    font-size: 0.95rem;
    color: #666;
  }
</style>

<div class="container py-4">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="mb-0">üìç B√∂lg…ôl…ôr v…ô Klinikalar</h2>
    <button type="button" class="btn btn-primary d-flex align-items-center gap-2" data-bs-toggle="modal" data-bs-target="#addHospitalModal">
      <i class="bi bi-plus-circle"></i> Klinika/X…ôst…ôxana ∆èlav…ô et
    </button>
  </div>

  <div class="table-responsive">
    <table class="table table-bordered table-hover align-middle">
      <thead class="table-light">
        <tr>
          <th scope="col">#</th>
          <th scope="col">Klinika / X…ôst…ôxana Adƒ±</th>
          <th scope="col">B√∂lg…ô</th>
          <th scope="col">≈û…ôh…ôr sayƒ±</th>
        </tr>
      </thead>
      <tbody>
        {% for hospital in hospitals %}
        <tr>
          <th scope="row">{{ forloop.counter }}</th>
          <td><strong>{{ hospital.hospital_name }}</strong></td>
          <td><span class="badge bg-success">{{ hospital.region_net.region_name }}</span></td>
          <td><span class="badge bg-warning">{{ hospital.city }}</span></td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="4" class="text-center">He√ß bir klinika / x…ôst…ôxana tapƒ±lmadƒ±.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="addHospitalModal" tabindex="-1" aria-labelledby="addHospitalModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <form method="POST" action="{% url 'add-hospital' %}">
        {% csrf_token %}
        <div class="modal-header">
          <h5 class="modal-title" id="addHospitalModalLabel">Yeni Klinikaya ∆èlav…ô Et</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Baƒüla"></button>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <label for="hospital_name" class="form-label">Klinika Adƒ±</label>
            <input type="text" class="form-control" id="hospital_name" name="hospital_name" required>
          </div>

          <div class="mb-3">
            <label for="region_net" class="form-label">B√∂lg…ô Se√ßin</label>
            <select class="form-select" id="region_net" name="region_net" required>
              <option selected disabled>Se√ßin...</option>
              {% for r in regions %}
                <option value="{{ r.id }}">{{ r.region_name }}</option>
              {% endfor %}
            </select>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ƒ∞mtina</button>
          <button type="submit" class="btn btn-primary">
            <i class="bi bi-plus-circle me-1"></i> ∆èlav…ô Et
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

{% endblock content %}