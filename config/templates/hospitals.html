{% extends "base.html" %}
{% block content %}

<style>
  /* Dark Table */
  .table-dark-mode {
    width: 100%;
    border-collapse: collapse;
    background-color: #1f2937;
    color: #f9fafb;
    border-radius: 12px;
    overflow: hidden;
  }

  .table-dark-mode thead {
    background-color: #273549;
    color: #b5bcc7;
    font-weight: 600;
    position: sticky;
    top: 0;
    z-index: 1;
  }

  .table-dark-mode th,
  .table-dark-mode td {
    padding: 12px 10px;
    text-align: center;
    border-bottom: 1px solid #374151;
  }

  .table-dark-mode tbody tr:nth-child(even) {
    background-color: #1f2937;
  }

  .table-dark-mode tbody tr:nth-child(odd) {
    background-color: #273549;
  }

  .table-dark-mode tbody tr:hover {
    background-color: #2d75faff;
    color: #f9fafb;
    transition: 0.3s;
  }

  .badge-dark-mode {
    padding: 0.35em 0.65em;
    border-radius: 8px;
    font-size: 0.85rem;
    font-weight: 500;
  }

  /* Scrollbar */
  .table-responsive::-webkit-scrollbar {
    width: 8px;
  }
  .table-responsive::-webkit-scrollbar-track {
    background: #1f2937;
  }
  .table-responsive::-webkit-scrollbar-thumb {
    background-color: #1f63e2ff;
    border-radius: 10px;
  }
</style>

<div class="container py-4">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="mb-0 text-light">üìç B√∂lg…ôl…ôr v…ô Klinikalar</h2>
    <button type="button" class="btn btn-primary d-flex align-items-center gap-2" data-bs-toggle="modal" data-bs-target="#addHospitalModal">
      <i class="bi bi-plus-circle"></i> Klinika/X…ôst…ôxana ∆èlav…ô et
    </button>
  </div>

  <div class="table-responsive">
    <table class="table-dark-mode align-middle">
      <thead>
        <tr>
          <th>#</th>
          <th>Klinika / X…ôst…ôxana Adƒ±</th>
          <th>B√∂lg…ô</th>
          <th>≈û…ôh…ôr sayƒ±</th>
        </tr>
      </thead>
      <tbody>
        {% for hospital in hospitals %}
        <tr>
          <th>{{ forloop.counter }}</th>
          <td><strong>{{ hospital.hospital_name }}</strong></td>
          <td><span class="badge-dark-mode bg-success">{{ hospital.region_net.region_name }}</span></td>
          <td><span class="badge-dark-mode bg-warning text-dark">{{ hospital.city }}</span></td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="4" class="text-center">He√ß bir klinika / x…ôst…ôxana tapƒ±lmadƒ±.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="addHospitalModal" tabindex="-1" aria-labelledby="addHospitalModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content" style="background-color: #1f2937; color: #f9fafb;">
      <form method="POST" action="{% url 'add-hospital' %}">
        {% csrf_token %}
        <div class="modal-header">
          <h5 class="modal-title" id="addHospitalModalLabel">Yeni Klinikaya ∆èlav…ô Et</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <label for="hospital_name" class="form-label">Klinika Adƒ±</label>
            <input type="text" class="form-control" id="hospital_name" name="hospital_name" required style="background-color: #273549; color: #f9fafb; border: none;">
          </div>

          <div class="mb-3">
            <label for="region_net" class="form-label">B√∂lg…ô Se√ßin</label>
            <select class="form-select" id="region_net" name="region_net" required style="background-color: #273549; color: #f9fafb; border: none;">
              <option selected disabled>Se√ßin...</option>
              {% for r in regions %}
                <option value="{{ r.id }}">{{ r.region_name }}</option>
              {% endfor %}
            </select>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ƒ∞mtina</button>
          <button type="submit" class="btn btn-success">
            <i class="bi bi-plus-circle me-1"></i> ∆èlav…ô Et
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

{% endblock content %}
